{"version":3,"sources":["webpack:///webpack/bootstrap c201f195c497a0ea12e6","webpack:///external \"d3\"","webpack:///./src/graphDiagram/GraphDiagram.ts","webpack:///./src/graphDiagram/model/SimpleStyle.ts","webpack:///./src/graphDiagram/layout/LayoutEntity.ts","webpack:///./src/graphDiagram/bubble/Bubble.ts","webpack:///./src/graphDiagram/layout/LayoutNode.ts","webpack:///./src/graphDiagram/scaling/Scaling.ts","webpack:///./src/graphDiagram/model/Model.ts","webpack:///./src/graphDiagram/model/Node.ts","webpack:///./src/graphDiagram/model/Entity.ts","webpack:///./src/graphDiagram/model/Properties.ts","webpack:///./src/graphDiagram/model/Relationship.ts","webpack:///./examples-src/example-browser-tests.ts","webpack:///./src/index.ts","webpack:///./src/graphDiagram/diagram/Diagram.ts","webpack:///./src/graphDiagram/layout/Layout.ts","webpack:///./src/graphDiagram/layout/LayoutRelationship.ts","webpack:///./src/graphDiagram/bubble/RelationshipSpeechBubble.ts","webpack:///./src/graphDiagram/bubble/NodeSpeechBubble.ts","webpack:///./src/graphDiagram/bubble/Radius.ts","webpack:///./src/graphDiagram/arrow/HorizontalArrowOutline.ts","webpack:///./src/graphDiagram/markup/Markup.ts","webpack:///./src/graphDiagram/arrow/CurvedArrowOutline.ts","webpack:///./src/graphDiagram/layout/LayoutModel.ts"],"names":[],"mappings":"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","file":"example-browser-tests.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c201f195c497a0ea12e6","module.exports = d3;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"d3\"\n// module id = 0\n// module chunks = 0","import * as d3 from 'd3';\nimport Model from './model/Model';\nimport Node from './model/Node';\nimport Radius from './bubble/Radius';\nimport LayoutNode from './layout/LayoutNode';\nimport LayoutRelationship from './layout/LayoutRelationship';\n\nexport default class GraphDiagram {\n\n    static parsePixels(fontSize: string): number\n    {\n        let result: number = 0;\n        if (fontSize) {\n            result = parseFloat( fontSize.slice( 0, -2 ) );\n        } else {\n            // console.log(`parsePixels: `, fontSize);\n        }\n        return result;\n    }\n\n    static measureTextDimensions( text: string, fontSize: string, fontFamily: string ) {\n\n        var fontSize = fontSize;\n        var fontFamily = fontFamily;\n        var canvasSelection = d3.select(\"#textMeasuringCanvas\").data([this]);\n        canvasSelection.enter().append(\"canvas\")\n            .attr(\"id\", \"textMeasuringCanvas\");\n\n        var canvas: any = document.getElementById('textMeasuringCanvas'); //canvasSelection.node(); //HTMLCanvasElement\n\n        var context = canvas.getContext(\"2d\");\n        context.font = \"normal normal normal \" + fontSize + \"/normal \" + fontFamily;\n        return context.measureText(text).width;\n    }\n\n    static hasProperties( entity: LayoutNode | LayoutRelationship ) {\n        return entity.model.properties.list().length > 0;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/GraphDiagram.ts","export default class SimpleStyle {\n\n    private _styles: any;\n\n    constructor(stylePrototype?: SimpleStyle | any) {\n        this._styles = {};\n\n        if (stylePrototype && (stylePrototype instanceof SimpleStyle)) {\n            let styleMap = stylePrototype.style();\n            // console.log(`styleMap:`, styleMap);\n            for (let key in styleMap) {\n                if (styleMap.hasOwnProperty(key)) {\n                    this._styles[key] = styleMap[key];\n                }\n            }\n        } else {\n            let styleMap = stylePrototype;\n            // console.log(`styleMap:`, styleMap);\n            for (let key in styleMap) {\n                this._styles[key] = styleMap[key];\n            }\n        }\n    }\n\n    style(cssPropertyKey?: string, cssPropertyValue?: string): any {\n        // console.log(`SimpleStyle: style: ${cssPropertyKey}, ${cssPropertyValue}`, arguments, this);\n        if (cssPropertyKey && cssPropertyValue) { //(arguments.length == 2) {\n            this._styles[cssPropertyKey] = cssPropertyValue;\n            return this;\n        } else if (cssPropertyKey) { //(arguments.length == 1) {\n            return this._styles[cssPropertyKey];\n        } else {\n            return this._styles;\n        }\n    }\n\n    static copyStyle( entity: any, computedStyle: any, cssPropertyKey: string, backupCssPropertyKey?: string, debug: boolean = false )\n    {\n        var propertyValue = computedStyle.getPropertyValue( cssPropertyKey );\n        if ( !propertyValue )\n        {\n            propertyValue = computedStyle.getPropertyValue( backupCssPropertyKey );\n        }\n        if (debug) {\n            console.log(`  ${cssPropertyKey}: ${propertyValue}`);\n        }\n        entity.style( cssPropertyKey, propertyValue );\n    }\n\n    static copyStyles( entity: any, markup: any, debug: boolean = false )\n    {\n        var computedStyle: any = window.getComputedStyle(markup.node() );\n        if (debug) {\n            console.log(`copyStyles from: `, markup.node());\n        }\n        SimpleStyle.copyStyle( entity, computedStyle, \"width\", \"width\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"min-width\", \"min-width\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"font-family\", \"font-family\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"font-size\", \"font-size\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"margin\", \"margin-top\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"padding\", \"padding-top\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"color\", \"color\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"background-color\", \"background-color\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"border-width\", \"border-top-width\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"border-style\", \"border-top-style\", debug );\n        SimpleStyle.copyStyle( entity, computedStyle, \"border-color\", \"border-top-color\", debug );\n    }\n\n}\n\n// export default class SimpleStyle {\n//     private _style: any;\n//\n//     constructor(stylePrototype?: any) {\n//         this._style = this.styleSet(stylePrototype);\n//     }\n//\n//     get style(): any {\n//         return this._style;\n//     }\n//\n//     styleSet(stylePrototype?: any) {\n//         var styles = {};\n//\n//         if (stylePrototype) {\n//             var styleMap = stylePrototype.style();\n//             for (var key in styleMap) {\n//                 if (styleMap.hasOwnProperty(key)) {\n//                     styles[key] = styleMap[key];\n//                 }\n//             }\n//         }\n//\n//         return function(cssPropertyKey: string, cssPropertyValue: string) {\n//             if (arguments.length == 2) {\n//                 styles[cssPropertyKey] = cssPropertyValue;\n//                 return this;\n//             }\n//             if (arguments.length == 1) {\n//                 return styles[cssPropertyKey];\n//             }\n//             return styles;\n//         }\n//     }\n// }\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/model/SimpleStyle.ts","import GraphDiagram from '../GraphDiagram';\nimport Entity from '../model/Entity';\nimport NodeSpeechBubble from '../bubble/NodeSpeechBubble';\nimport Radius from '../bubble/Radius';\n\nexport default class LayoutEntity {\n\n    public propertiesBubble: any;\n    public model: Entity;\n\n    constructor(entity: Entity) {\n        this.model = entity;\n        this.propertiesBubble = {};\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/layout/LayoutEntity.ts","import SimpleStyle from '../model/SimpleStyle';\nimport {Point, BoundingBox} from '../scaling/Scaling';\nimport Entity from '../model/Entity';\nimport Node from '../model/Node';\nimport Relationship from '../model/Relationship';\n\n// export type Point = {\n//     x: number;\n//     y: number;\n// }\n\nexport type SpeechBubbleTextProperties = {\n    keyText: string;\n    valueText: string;\n    textOrigin: any; //Point;\n    style: any; //SimpleStyle;\n    entity: Node | Relationship;\n}\n\nexport type SpeechBubble = {\n        properties: any;\n        style: any; //SimpleStyle;\n        groupTransform: string;\n        outlineTransform: string;\n        outlinePath: any;\n        boundingBox: any; //BoundingBox;\n        entity: Node | Relationship;\n}\n\nexport default class Bubble {\n\n    public properties: any[];\n    public style: any;\n    public entity: Entity;\n    public groupTransform: string;\n    public outlineTransform: string;\n    public outlinePath: string;\n    public boundingBox: BoundingBox;\n\n    constructor(entity: Entity) {\n        this.entity = entity;\n    }\n\n    static speechBubblePath = function(textSize: any, style: string, margin: number, padding: number): string {\n        var width = textSize.width, height = textSize.height;\n        var styles = {\n            diagonal: [\n                \"M\", 0, 0,\n                \"L\", margin + padding, margin,\n                \"L\", margin + width + padding, margin,\n                \"A\", padding, padding, 0, 0, 1, margin + width + padding * 2, margin + padding,\n                \"L\", margin + width + padding * 2, margin + height + padding,\n                \"A\", padding, padding, 0, 0, 1, margin + width + padding, margin + height + padding * 2,\n                \"L\", margin + padding, margin + height + padding * 2,\n                \"A\", padding, padding, 0, 0, 1, margin, margin + height + padding,\n                \"L\", margin, margin + padding,\n                \"Z\"\n            ],\n            horizontal: [\n                \"M\", 0, 0,\n                \"L\", margin, -padding,\n                \"L\", margin, -height / 2,\n                \"A\", padding, padding, 0, 0, 1, margin + padding, -height / 2 - padding,\n                \"L\", margin + width + padding, -height / 2 - padding,\n                \"A\", padding, padding, 0, 0, 1, margin + width + padding * 2, -height / 2,\n                \"L\", margin + width + padding * 2, height / 2,\n                \"A\", padding, padding, 0, 0, 1, margin + width + padding, height / 2 + padding,\n                \"L\", margin + padding, height / 2 + padding,\n                \"A\", padding, padding, 0, 0, 1, margin, height / 2,\n                \"L\", margin, padding,\n                \"Z\"\n            ],\n            vertical: [\n                \"M\", 0, 0,\n                \"L\", -padding, margin,\n                \"L\", -width / 2, margin,\n                \"A\", padding, padding, 0, 0, 0, -width / 2 - padding, margin + padding,\n                \"L\", -width / 2 - padding, margin + height + padding,\n                \"A\", padding, padding, 0, 0, 0, -width / 2, margin + height + padding * 2,\n                \"L\", width / 2, margin + height + padding * 2,\n                \"A\", padding, padding, 0, 0, 0, width / 2 + padding, margin + height + padding,\n                \"L\", width / 2 + padding, margin + padding,\n                \"A\", padding, padding, 0, 0, 0, width / 2, margin,\n                \"L\", padding, margin,\n                \"Z\"\n            ]\n        };\n        return styles[style].join(\" \");\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/bubble/Bubble.ts","import GraphDiagram from '../GraphDiagram';\nimport Node from '../model/Node';\nimport LayoutEntity from '../layout/LayoutEntity';\nimport NodeSpeechBubble from '../bubble/NodeSpeechBubble';\nimport Radius from '../bubble/Radius';\n\nexport default class LayoutNode extends LayoutEntity {\n\n    public class: any; //string[];\n    public x: number;\n    public y: number;\n    public radius: Radius;\n    public captionLines: string[];\n    public captionLineHeight: number;\n\n    constructor(graphNode: Node) {\n        super(graphNode);\n        this.class = graphNode.class;\n        this.x = graphNode.ex();\n        this.y = graphNode.ey();\n        let captionMeasurements = this.wrapAndMeasureCaption(graphNode);\n        this.radius = captionMeasurements.radius;\n        this.captionLines = captionMeasurements.captionLines;\n        this.captionLineHeight = captionMeasurements.captionLineHeight;\n        this.propertiesBubble = new NodeSpeechBubble( graphNode, captionMeasurements.radius );\n    }\n\n    wrapAndMeasureCaption(node: Node) {\n        // function measure( text: string )\n        // {\n        //     return GraphDiagram.measureTextDimensions( text, node );\n        // }\n\n        // console.log(node, node.style(), node.style(\"font-size\"));\n        var lineHeight: number = GraphDiagram.parsePixels( node.style( \"font-size\" ) );\n        // console.log(lineHeight);\n        var insideRadius: number = 0;\n        var captionLines: string[] = [];\n\n        if ( node.caption ) {\n            var padding: number = GraphDiagram.parsePixels( node.style( \"padding\" ) );\n            var fontSize: string = node.properties.style( \"font-size\" );\n            var fontFamily: string = node.properties.style( \"font-family\" );\n            var totalWidth: number = GraphDiagram.measureTextDimensions( node.caption, fontSize, fontFamily );\n            var idealRadius: number = Math.sqrt( totalWidth * lineHeight / Math.PI );\n            var idealRows: number = idealRadius * 2 / lineHeight;\n            function idealLength( row: number )\n            {\n                var rowOffset: number = lineHeight * (row - idealRows) / 2;\n                return Math.sqrt( idealRadius * idealRadius - rowOffset * rowOffset) * 2;\n            }\n            var words: string[] = node.caption.split(\" \");\n            var currentLine: string = words.shift();\n            while (words.length > 0)\n            {\n                if ( GraphDiagram.measureTextDimensions( currentLine, fontSize, fontFamily ) > idealLength(captionLines.length) )\n                {\n                    captionLines.push(currentLine);\n                    currentLine = words.shift();\n                } else {\n                    currentLine += \" \" + words.shift();\n                }\n            }\n            captionLines.push(currentLine);\n\n            for ( var row = 0; row < captionLines.length; row++ )\n            {\n                var width: number = GraphDiagram.measureTextDimensions( captionLines[row], fontSize, fontFamily ) / 2;\n                var middleRow: number = (captionLines.length - 1) / 2;\n                var rowOffset: number = lineHeight * (row > middleRow ? (row - middleRow + 0.5) : (row - middleRow - 0.5));\n                insideRadius = padding + Math.max( Math.sqrt(width * width + rowOffset * rowOffset), insideRadius);\n            }\n        }\n        let minWidthProperty: string = node.style(\"min-width\") ? node.style(\"min-width\") : \"30px\";\n        var minRadius: number = GraphDiagram.parsePixels( minWidthProperty ) / 2;\n        if ( minRadius > insideRadius )\n        {\n            insideRadius = minRadius;\n        }\n        var radius: Radius = new Radius(node.model, insideRadius);\n        radius.border = GraphDiagram.parsePixels( node.style( \"border-width\" ) );\n        radius.margin = GraphDiagram.parsePixels( node.style( \"margin\" ) );\n\n        return {\n            radius: radius,\n            captionLines: captionLines,\n            captionLineHeight: lineHeight\n        };\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/layout/LayoutNode.ts","import GraphDiagram from '../GraphDiagram';\nimport LayoutModel from '../layout/LayoutModel';\nimport LayoutNode from '../layout/LayoutNode';\nimport LayoutRelationship from '../layout/LayoutNode';\nimport Node from '../model/Node';\n\nexport type Point = {\n    x: number;\n    y: number;\n}\n\nexport type BoundingBox = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n}\n\nexport type Bounds = {\n    x1: number;\n    y1: number;\n    x2: number;\n    y2: number;\n}\n\n// export type ViewDimensions = {\n//     width: number;\n//     height: number;\n// }\n\nexport default class Scaling {\n\n    static nodeBox( node: LayoutNode )\n    {\n        var margin = node.radius.outside();\n        let graphNode: Node = node.model as Node;\n        return {\n            x1: graphNode.ex() - margin,\n            y1: graphNode.ey() - margin,\n            x2: graphNode.ex() + margin,\n            y2: graphNode.ey() + margin\n        };\n    };\n\n    static boxNormalise( box: BoundingBox ): Bounds\n    {\n        return {\n            x1: box.width > 0 ? box.x : box.x + box.width,\n            y1: box.height > 0 ? box.y : box.y +box. height,\n            x2: box.width < 0 ? box.x : box.x + box.width,\n            y2: box.height < 0 ? box.y : box.y + box.height\n        };\n    };\n\n    static boxUnion( boxes: Bounds[] ): Bounds\n    {\n        if ( boxes.length < 1 )\n        {\n            return { x1:0, y1:0, x2:0, y2:0 };\n        }\n        return boxes.reduce( function ( previous: Bounds, current: Bounds)\n        {\n            return {\n                x1:Math.min( previous.x1, current.x1 ),\n                y1:Math.min( previous.y1, current.y1 ),\n                x2:Math.max( previous.x2, current.x2 ),\n                y2:Math.max( previous.y2, current.y2 )\n            };\n        } );\n    };\n\n    static smallestContainingBox(layoutModel: LayoutModel): BoundingBox {\n        function boundingBox( entity: LayoutNode | LayoutRelationship )\n        {\n            return entity.propertiesBubble.boundingBox;\n        }\n\n        var bounds = Scaling.boxUnion( layoutModel.nodes.map( Scaling.nodeBox )\n            .concat( layoutModel.nodes.filter(GraphDiagram.hasProperties ).map( boundingBox )\n                .map( Scaling.boxNormalise ) )\n            .concat( layoutModel.relationships.filter(GraphDiagram.hasProperties ).map( boundingBox )\n                .map( Scaling.boxNormalise ) ) );\n\n        return { x: bounds.x1, y: bounds.y1,\n            width: (bounds.x2 - bounds.x1), height: (bounds.y2 - bounds.y1) }\n    }\n\n    static centeredOrScaledViewBox(viewDimensions: BoundingBox, diagramExtent: BoundingBox): BoundingBox {\n        var xScale = diagramExtent.width / viewDimensions.width;\n        var yScale = diagramExtent.height / viewDimensions.height;\n        var scaleFactor = xScale < 1 && yScale < 1 ? 1 : (xScale > yScale ? xScale : yScale);\n\n        return {\n            x: ((diagramExtent.width - viewDimensions.width * scaleFactor) / 2) + diagramExtent.x,\n            y: ((diagramExtent.height - viewDimensions.height * scaleFactor) / 2) + diagramExtent.y,\n            width: viewDimensions.width * scaleFactor,\n            height: viewDimensions.height * scaleFactor\n        };\n    };\n\n    static effectiveBox( viewBox: BoundingBox, viewSize: BoundingBox )\n    {\n        if ( viewBox.width / viewSize.width > viewBox.height / viewSize.height )\n        {\n            return {\n                x: viewBox.x,\n                y: viewBox.y - ((viewBox.width * viewSize.height / viewSize.width) - viewBox.height) / 2,\n                width: viewBox.width,\n                height: viewBox.width * viewSize.height / viewSize.width\n            }\n        }\n        else\n        {\n            return {\n                x: viewBox.x - ((viewBox.height * viewSize.width / viewSize.height) - viewBox.width) / 2,\n                y: viewBox.y,\n                width: viewBox.height * viewSize.width / viewSize.height,\n                height: viewBox.height\n            }\n        }\n    }\n\n    static viewDimensions(view: any): BoundingBox\n    {\n        var svgElement = view.node();\n        return {\n            x: 0,\n            y: 0,\n            width: svgElement.clientWidth,\n            height: svgElement.clientHeight\n        };\n    }\n\n    static centerOrScaleDiagramToFitSvg(layoutModel: LayoutModel, view: any) {\n        var box = Scaling.centeredOrScaledViewBox( Scaling.viewDimensions(view), Scaling.smallestContainingBox( layoutModel ) );\n\n        view\n            .attr(\"viewBox\", [box.x, box.y, box.width, box.height].join( \" \" ));\n    };\n\n    static centerOrScaleDiagramToFitWindow(layoutModel: LayoutModel, view: any) {\n        var windowDimensions = {\n            x: 0,\n            y: 0,\n            width: window.innerWidth,\n            height: window.innerHeight\n        };\n        var box = Scaling.centeredOrScaledViewBox( windowDimensions, Scaling.smallestContainingBox( layoutModel ) );\n\n        view\n            .attr(\"width\", windowDimensions.width)\n            .attr(\"height\", windowDimensions.height)\n            .attr(\"viewBox\", [box.x, box.y, box.width, box.height].join( \" \" ));\n    };\n\n    static centerOrScaleDiagramToFitSvgSmooth(layoutModel: LayoutModel, view: any) {\n        var box = Scaling.centeredOrScaledViewBox( Scaling.viewDimensions(view), Scaling.smallestContainingBox( layoutModel ) );\n\n        view\n            .transition()\n            .attr(\"viewBox\", [box.x, box.y, box.width, box.height].join( \" \" ));\n    };\n\n    static fitsInside( extent: BoundingBox, box: BoundingBox )\n    {\n        return extent.x >= box.x &&\n            extent.y >= box.y &&\n            extent.x + extent.width <= box.x + box.width &&\n            extent.y + extent.height <= box.y + box.height;\n    }\n\n    static growButDoNotShrink(layoutModel: LayoutModel, view: any) {\n        var currentViewBoxAttr = view.attr(\"viewBox\");\n        if ( currentViewBoxAttr === null )\n        {\n            // Scaling.centeredOrScaledViewBox(layoutModel, view); //FUNKY //TODO\n        } else {\n            var currentDimensions = currentViewBoxAttr.split(\" \" ).map(parseFloat);\n            var currentBox = {\n                x: currentDimensions[0],\n                y: currentDimensions[1],\n                width: currentDimensions[2],\n                height: currentDimensions[3]\n            };\n            var diagramExtent = Scaling.smallestContainingBox( layoutModel );\n\n            var box;\n            if ( Scaling.fitsInside(diagramExtent, Scaling.effectiveBox( currentBox, Scaling.viewDimensions( view ) ))) {\n                box = currentBox;\n            }\n            else\n            {\n                var idealBox = Scaling.centeredOrScaledViewBox( Scaling.viewDimensions(view), diagramExtent );\n                box = {\n                    x: Math.min(currentBox.x, idealBox.x),\n                    y: Math.min(currentBox.y, idealBox.y),\n                    width: Math.max(currentBox.x + currentBox.width, idealBox.x + idealBox.width) -\n                        Math.min(currentBox.x, idealBox.x),\n                    height: Math.max(currentBox.y + currentBox.height, idealBox.y + idealBox.height) -\n                        Math.min(currentBox.y, idealBox.y)\n                };\n            }\n\n            view\n                .attr(\"viewBox\", [box.x, box.y, box.width, box.height].join( \" \" ));\n        }\n    };\n\n    static sizeSvgToFitDiagram(layoutModel: LayoutModel, view: any) {\n        var box = Scaling.smallestContainingBox( layoutModel );\n\n        view\n            .attr(\"viewBox\", [box.x, box.y, box.width, box.height].join( \" \" ))\n            .attr(\"width\", box.width * layoutModel.graphModel.externalScale)\n            .attr(\"height\", box.height * layoutModel.graphModel.externalScale);\n    };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/scaling/Scaling.ts","import SimpleStyle from './SimpleStyle';\nimport * as d3 from 'd3';\nimport Node from './Node';\nimport Relationship from './Relationship';\n\nexport default class Model {\n\n    public nodes: any[] = []; //Map\n    public relationships: any[] = [];\n    public highestId: number = 0;\n\n    public stylePrototype: any;\n\n    public parameters: any = {\n        radius: 50,\n        nodeStrokeWidth: 8,\n        nodeStartMargin: 11,\n        nodeEndMargin: 11,\n        speechBubbleMargin: 20,\n        speechBubblePadding: 10,\n        speechBubbleStrokeWidth: 3,\n        snapTolerance: 20\n    };\n\n    private _internalScale: number = 1;\n    private _externalScale: number = 1;\n/*\n    .graph-diagram-markup {\n        font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n    }\n\n    .graph-diagram-markup .node {\n        font-size: 14px;\n        margin: 5px;\n        padding: 5px;\n        min-width: 30px;\n        background-color: #f7f7f9;\n        border: 1px solid rgba(0, 0, 0, 0.3);\n    }\n\n    .graph-diagram-markup .relationship {\n        font-size: 14px;\n        width: 2px;\n        margin: 10px;\n        background-color: rgba(0, 0, 0, 0.3);\n        border: none;\n    }\n\n    .graph-diagram-markup .properties {\n        font-size: 14px;\n        margin: 12px;\n        padding: 4px;\n        background-color: white;\n        border: 1px solid rgba(0, 0, 0, 0.5);\n    }\n*/\n    constructor() {\n        this.stylePrototype = {\n            node: new SimpleStyle({\n                'min-width': '30px',\n                'font-size': '14px',\n                'font-family': '\"Helvetica Neue\", Helvetica, Arial, sans-serif',\n                'padding': '5px',\n                'border-width': '1px',\n                'border-color': 'rgba(0, 0, 0, 0.3)',\n                'margin': '5px',\n                'background-color': '#f7f7f9',\n                'border': '1px solid rgba(0, 0, 0, 0.3)'\n            }),\n            nodeProperties: new SimpleStyle({\n                'font-size': '14px',\n                'font-family': '\"Helvetica Neue\", Helvetica, Arial, sans-serif',\n                'padding': '4px',\n                'margin': '12px',\n                'background-color': 'white',\n                'border': '1px solid rgba(0, 0, 0, 0.5)',\n                'border-color': 'rgba(0, 0, 0, 0.5)',\n                'border-width': '1px'\n            }),\n            relationship: new SimpleStyle({\n                'font-size': '14px',\n                'font-family': '\"Helvetica Neue\", Helvetica, Arial, sans-serif',\n                'width': '2px',\n                'border-width': '3px',\n                'margin': '10px',\n                'background-color': 'rgba(0, 0, 0, 0.3)',\n                'border': 'none'\n            }),\n            relationshipProperties: new SimpleStyle({\n                'font-size': '14px',\n                'font-family': '\"Helvetica Neue\", Helvetica, Arial, sans-serif',\n                'padding': '4px',\n                'margin': '12px',\n                'background-color': 'white',\n                'border': '1px solid rgba(0, 0, 0, 0.5)',\n                'border-color': 'rgba(0, 0, 0, 0.5)',\n                'border-width': '1px'\n            })\n        };\n    }\n\n    toString(): string {\n        let result: string = 'Model:\\n';\n        let obj: any = {\n            highestId: this.highestId,\n            nodeCount: this.nodes.length,\n            relationshipCount: this.relationships.length,\n            nodeStylePrototype: this.stylePrototype.node.style(),\n        }\n        result += JSON.stringify(obj);\n        return result\n    }\n\n    summary(): any {\n        let obj: any = {\n            highestId: this.highestId,\n            nodeCount: this.nodes.length,\n            relationshipCount: this.relationships.length,\n            nodePropertiesStylePrototype: this.stylePrototype.nodeProperties.style(),\n            relationshipPropertiesStylePrototype: this.stylePrototype.relationshipProperties.style(),\n        }\n        return obj\n    }\n\n    generateNodeId(): string {\n        while (this.nodes[this.highestId]) {\n            this.highestId++;\n        }\n        return `${this.highestId}`;\n    }\n\n    createNode(optionalNodeId?: string): Node {\n        var nodeId: string = optionalNodeId || this.generateNodeId();\n        var node: Node = new Node(this);\n        node.id = nodeId;\n        this.nodes[nodeId] = node;\n        return node;\n    };\n\n    deleteNode(node: Node) {\n        this.relationships = this.relationships.filter(function (relationship) {\n            return !(relationship.start === node || relationship.end == node);\n        });\n        delete this.nodes[node.id];\n    };\n\n    deleteRelationship(relationship: any) {\n        this.relationships.splice(this.relationships.indexOf(relationship), 1);\n    };\n\n    createRelationship(start: Node, end: Node) {\n        var relationship = new Relationship(this, start, end);\n        this.relationships.push(relationship);\n        return relationship;\n    };\n\n    nodeList(): Node[] {\n        var list: Node[] = [];\n        for (var nodeId in this.nodes) {\n            if (this.nodes.hasOwnProperty(nodeId)) {\n                list.push(this.nodes[nodeId]);\n            }\n        }\n        return list;\n    };\n\n    lookupNode(nodeId: number): Node {\n        return this.nodes[nodeId];\n    };\n\n    relationshipList(): Relationship[] {\n        return this.relationships;\n    };\n\n    groupedRelationshipList(): number[][] {\n        var groups: number[][] = [];\n        for (var i = 0; i < this.relationships.length; i++)\n        {\n            var relationship: Relationship = this.relationships[i];\n            var nodeIds: string[] = [relationship.start.id, relationship.end.id].sort();\n            var group = groups[nodeIds[0], nodeIds[1]];\n            if (!group)\n            {\n                group = groups[nodeIds[0], nodeIds[1]] = [];\n            }\n            if (relationship.start.id < relationship.end.id)\n            {\n                group.push(relationship);\n            }\n            else\n            {\n                group.splice(0, 0, relationship);\n            }\n        }\n        return d3.values(groups);\n    };\n\n    set internalScale(newScale: number) {\n        this._internalScale = newScale; //NOTE parseFloat(newScale);\n    };\n\n    get internalScale(): number {\n        return this._internalScale;\n    }\n\n    set externalScale(newScale: number) {\n        this._externalScale = newScale; //NOTE parseFloat(newScale);\n    };\n\n    get externalScale(): number {\n        return this._externalScale;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/model/Model.ts","import Model from './Model';\nimport Entity from './Entity';\nimport Properties from './Properties';\nimport SimpleStyle from './SimpleStyle';\n\nexport default class Node extends Entity {\n    public position: any = {};\n    public prototypePosition: any;\n\n    constructor(model: Model) {\n        super(model);\n        this._type = \"node\";\n        this._properties = new Properties(model.stylePrototype.nodeProperties);\n        this._style = new SimpleStyle(model.stylePrototype.node);\n        this._caption = \"\";\n    }\n\n    set x(x: number) {\n        this.position.x = Number(x);\n    };\n\n    get x(): number {\n        return this.position.x;\n    }\n\n    set y(y: number) {\n        this.position.y = Number(y);\n    }\n\n    get y(): number {\n        return this.position.y\n    }\n\n    // funky usage precludes get/set for now\n    ex(): number {\n        return this.position.x * this.model.internalScale;\n    }\n\n    // funky usage precludes get/set for now\n    ey(): number {\n        return this.position.y * this.model.internalScale;\n    }\n\n    distanceTo(node: Node): number {\n        var dx = node.x - this.x;\n        var dy = node.y - this.y;\n        return Math.sqrt(dx * dx + dy * dy) * this.model.internalScale;\n    }\n\n    snap( position: any, field: any, node: Node ) //TODO find a better way to reference accessors of Node\n    {\n        var ideal = position[field];\n        var closestNode: Node;\n        var closestDistance = Number.MAX_VALUE;\n        for (var nodeId in this.model.nodes) {\n            if (this.model.nodes.hasOwnProperty(nodeId)) {\n                var candidateNode = this.model.nodes[nodeId];\n                if ( candidateNode != node )\n                {\n                    // console.log(`Node: snap: field: ${field}`)\n                    var distance: number = 0;\n                    if (field == \"x\") {\n                        distance = Math.abs(candidateNode.x - ideal);\n                    } else if (field == \"y\") {\n                        distance = Math.abs(candidateNode.y - ideal);\n                    }\n                    // var distance = Math.abs(candidateNode[field]() - ideal); //TODO find a better way to reference accessors of Node\n                    if (distance < closestDistance)\n                    {\n                        closestNode = candidateNode;\n                        closestDistance = distance;\n                    }\n                }\n            }\n        }\n        if (closestDistance < this.model.parameters.snapTolerance)\n        {\n            if (field == \"x\") {\n                return closestNode.x;\n            } else if (field == \"y\") {\n                return closestNode.y;\n            }\n        }\n        else\n        {\n            if (field == \"x\") {\n                return position.x;\n            } else if (field == \"y\") {\n                return position.y;\n            }\n        }\n    }\n\n    drag(dx: number, dy: number) {\n        if (!this.prototypePosition)\n        {\n            this.prototypePosition = {\n                x: this.position.x,\n                y: this.position.y\n            }\n        }\n        this.prototypePosition.x += dx / this.model.internalScale;\n        this.prototypePosition.y += dy / this.model.internalScale;\n        this.position.x = this.snap(this.prototypePosition, \"x\", this); //TODO\n        this.position.y = this.snap(this.prototypePosition, \"y\", this); //TODO\n\n        // console.log(this.position, this.prototypePosition, this.model.internalScale);\n    }\n\n    dragEnd()\n    {\n        this.prototypePosition = undefined;\n        // console.log(this.position, this.prototypePosition);\n    }\n\n    // distance() {\n    //     var dx = this.node.x - this.x;\n    //     var dy = this.node.y - this.y;\n    //     return Math.sqrt(dx * dx + dy * dy) * this.model.internalScale;\n    // };\n\n    angleTo(node: Node) {\n        var dx = node.x - this.x;\n        var dy = node.y - this.y;\n        return Math.atan2(dy, dx) * 180 / Math.PI\n    };\n\n    isLeftOf(node: Node) {\n        return this.x < node.x;\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/model/Node.ts","import Model from './Model';\nimport Properties from './Properties';\nimport SimpleStyle from './SimpleStyle';\n\nexport default class Entity {\n    public model: Model;\n    public id: string;\n    public classes: string[] = [];\n    protected _properties:Properties;\n    protected _caption: string;\n    protected _type: string;\n    public _style: SimpleStyle;\n\n    constructor(model: Model) {\n        this.model = model;\n        this._caption = \"\";\n        this._type = \"\";\n    }\n\n    style(cssPropertyKey?: string, cssPropertyValue?: string): any {\n        return this._style.style(cssPropertyKey, cssPropertyValue);\n    }\n\n    class(classesString?: string): any { // returns a string array or a reference to the instance - ugh, JS\n        if (arguments.length == 1) {\n            this.classes = classesString.split(\" \").filter((className: string) => {\n                return className.length > 0 && className != this._type;\n            });\n            return this;\n        }\n        return [this._type].concat(this.classes);\n    };\n\n    set caption(captionText: string) {\n        this._caption = captionText;\n    }\n\n    get caption(): string {\n        return this._caption;\n    }\n\n    get properties(): Properties {\n        return this._properties;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/model/Entity.ts","import SimpleStyle from './SimpleStyle';\n\nexport default class Properties {\n\n    // public keys: string[] = [];\n    // public values: any = {};\n\n    private _propertiesMap: Map<string, any>;\n    private _style: SimpleStyle;\n\n    constructor(stylePrototype: any) {\n        this._propertiesMap = new Map<string, any>();\n        this._style = new SimpleStyle(stylePrototype);\n    }\n\n    style(cssPropertyKey?: string, cssPropertyValue?: string): any {\n        return this._style.style(cssPropertyKey, cssPropertyValue);\n    }\n\n    list(): any[] {\n        // return this.keys.map((key: string) => {\n        //     return { key: key, value: this.values[key] };\n        // });\n        let result: any[] = [];\n        this._propertiesMap.forEach((value: any, key: string) => {\n            result.push( { key: key, value: value } );\n        });\n        return result;\n    };\n\n    toString() {\n        return JSON.stringify(this.list());\n    }\n\n    set(key: string, value: any) {\n        // if (!this.values[key]) {\n        //     this.keys.push(key);\n        // }\n        // this.values[key] = value;\n        this._propertiesMap.set(key, value);\n        return this;\n    };\n\n    clearAll() {\n        // this.keys = [];\n        // this.values = {};\n        this._propertiesMap = new Map<string, any>();\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/model/Properties.ts","import Model from './Model';\nimport Entity from './Entity';\nimport Node from './Node';\nimport Properties from './Properties';\nimport SimpleStyle from './SimpleStyle';\n\nexport default class Relationship extends Entity {\n    public _relationshipType: string;\n    public start: Node;\n    public end: Node;\n\n    constructor(model: Model, start: Node, end: Node) {\n        super(model);\n        this._type = \"relationship\";\n        this.start = start;\n        this.end = end;\n        this._properties = new Properties(model.stylePrototype.relationshipProperties);\n        this._style = new SimpleStyle(model.stylePrototype.relationship);\n    }\n\n    set relationshipType(relationshipTypeText: string) {\n            this._relationshipType = relationshipTypeText;\n    }\n\n    get relationshipType(): string {\n        return this._relationshipType;\n    }\n\n    reverse() {\n        var oldStart = this.start;\n        this.start = this.end;\n        this.end = oldStart;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/model/Relationship.ts","console.log(`Arrows: Typescript Browser Tests:`);\n\nimport * as d3 from 'd3';\n// import GraphDiagram from './graphDiagram/GraphDiagram';\n// import Diagram from './graphDiagram/diagram/Diagram';\n// import Markup from './graphDiagram/markup/Markup';\n//\n// import Model from './graphDiagram/model/Model';\n// import Node from './graphDiagram/model/Node';\n// import SimpleStyle from './graphDiagram/model/SimpleStyle';\n\nimport {\n  GraphDiagram,\n  Diagram,\n  Markup,\n  Model,\n  Node,\n  SimpleStyle\n} from '../src/index';\n\nfunction compareSvg( expected: any, actual: any, report: any )\n{\n    if ( expected.tagName != actual.tagName )\n    {\n        report( expected, actual, \"Expected <\" + expected.tagName + \"> got <\" + actual.tagName + \">\" );\n        return;\n    }\n    if ( expected.childElementCount != actual.childElementCount )\n    {\n        report( expected, actual, \"different number of children\" );\n        return;\n    }\n\n    for ( var iAttribute = 0; iAttribute < expected.attributes.length; iAttribute++ )\n    {\n        var expectedAttribute = expected.attributes[iAttribute];\n        var name = expectedAttribute.name;\n        if (name != \"xmlns\")\n        {\n            var actualAttribute = actual.attributes[name];\n            if (actualAttribute == null) {\n                report(expected, actual, \"missing attribute \" + name );\n                //result = false;\n            } else {\n                var expectedAttributeValue = expectedAttribute.value;\n                var actualAttributeValue = actualAttribute.value;\n                if ( expectedAttributeValue != actualAttributeValue )\n                {\n                    report(expected, actual,\n                        \"Expected \" + name + \"=\\\"\" + expectedAttributeValue + \"\\\" but got \" + name + \"=\\\"\" + actualAttributeValue );\n                }\n            }\n        }\n    }\n\n    function onlyElements( nodes: any )\n    {\n        var elements = [];\n        for ( var i = 0; i < nodes.length; i++ )\n        {\n            var node = nodes[i];\n            if ( node.nodeType === 1 )\n            {\n                elements.push( node );\n            }\n        }\n        return elements;\n    }\n\n    var expectedChildElements = onlyElements( expected.childNodes );\n    var actualChildElements = onlyElements( actual.childNodes );\n\n    if (expectedChildElements.length === 0) {\n        if (expected.textContent.trim() != actual.textContent.trim()) {\n            report(expected, actual,\n                \"Expected text content \\\"\" + expected.textContent + \"\\\" but got \\\"\" + actual.textContent + \"\\\"\");\n        }\n    } else {\n        for ( var iChild = 0; iChild < expectedChildElements.length; iChild++ )\n        {\n            compareSvg( expectedChildElements[iChild], actualChildElements[iChild], report );\n        }\n    }\n}\n\nvar allPass = true;\nvar diagram = new Diagram(); //gd.diagram();\n// console.log(diagram);\n\nd3.selectAll( \".example\" ).each( function ()\n{\n    // console.log(this);\n    var exampleRow = d3.select( this );\n\n    // console.log(exampleRow);\n    var temp = exampleRow.insert( \"td\", \"td\" )\n        .append( \"pre\" ).append( \"code\" )\n        .attr( \"class\", \"pretty-markup\" )\n        .text( function ()\n        {\n            var markup: any = exampleRow.select( \"td.markup\" );\n            return markup.node().innerHTML.replace(/^      /gm,\"\").replace(/^\\s*\\n/g,\"\").replace(/\\n\\s*$/,\"\");\n        } );\n\n    var view = exampleRow.append( \"td\" ).attr( \"class\", \"actual-diagram\" ).append( \"svg:svg\" );\n    // console.log(view);\n\n    var exampleRowSelection = exampleRow.select( \"ul.graph-diagram-markup\");\n    // console.log(exampleRowSelection);\n    var models = Markup.parseAll( exampleRowSelection );\n\n    // var modelsDebug: any[] = models.map( function ( model ) {\n    //     return model.summary();\n    // });\n    // console.log(`modelsDebug: `, modelsDebug);\n    // debugger;\n\n    view\n        .data(models)\n        .call(diagram.render);\n\n    var errorContainer = exampleRow.selectAll( \"td.errors\" ).data( [ {} ] );\n    errorContainer.enter().append( \"td\" ).attr( \"class\", \"errors\" );\n\n    var resultCell = exampleRow.selectAll( \"td.result\" ).data( [ {} ] );\n    resultCell.enter().append( \"td\" ).attr( \"class\", \"result\" ).append( \"i\" ).attr( \"class\", \"icon-white\" );\n\n    var pass = true;\n\n    compareSvg( exampleRow.select( \"td.expected-diagram svg\" ).node(), exampleRow.select( \"td.actual-diagram svg\" ).node(),\n            function ( expected: any, actual: any, message: string )\n            {\n                pass = false;\n                errorContainer.append( \"li\" ).text( message );\n            } );\n\n    exampleRow.classed(pass ? \"pass\" : \"fail\", true);\n\n    allPass = allPass && pass;\n});\n\n\n// d3.selectAll( \".example.pass .result i\" ).classed( \"icon-ok\", true );\n// d3.selectAll( \".example.fail .result i\" ).classed( \"icon-remove\", true );\n//\n// d3.select( \".overall-result.pass\" ).classed( \"hide\", !allPass );\n// d3.select( \".overall-result.fail\" ).classed( \"hide\", allPass );\n//\n// d3.select( \".examples.table\" ).classed( \"all-pass\", allPass );\n\n\n\n// WEBPACK FOOTER //\n// ./examples-src/example-browser-tests.ts","import GraphDiagram from './graphDiagram/GraphDiagram';\nimport Diagram from './graphDiagram/diagram/Diagram';\nimport Markup from './graphDiagram/markup/Markup';\n\nimport Model from './graphDiagram/model/Model';\nimport Node from './graphDiagram/model/Node';\nimport SimpleStyle from './graphDiagram/model/SimpleStyle';\n\nimport CurvedArrowOutline from './graphDiagram/arrow/CurvedArrowOutline';\nimport Relationship from './graphDiagram/model/Relationship';\nimport Scaling from './graphDiagram/scaling/Scaling';\nimport LayoutModel from './graphDiagram/layout/LayoutModel';\nimport LayoutNode from './graphDiagram/layout/LayoutNode';\n\nexport {\n  GraphDiagram,\n  Diagram,\n  Markup,\n  Model,\n  Node,\n  SimpleStyle,\n  CurvedArrowOutline,\n  Relationship,\n  Scaling,\n  LayoutModel,\n  LayoutNode\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","import * as d3 from 'd3';\nimport GraphDiagram from '../GraphDiagram';\nimport Model from '../model/Model';\nimport Node from '../model/Node';\nimport Relationship from '../model/Relationship';\nimport Layout from '../layout/Layout';\nimport LayoutModel from '../layout/LayoutModel';\nimport LayoutNode from '../layout/LayoutNode';\nimport LayoutEntity from '../layout/LayoutEntity';\nimport LayoutRelationship from '../layout/LayoutRelationship';\nimport Scaling from '../scaling/Scaling';\nimport { SpeechBubble, SpeechBubbleTextProperties } from '../bubble/Bubble';\n\nexport type CaptionLine = {\n    node: LayoutNode;\n    caption: any;\n}\n\nvar thiz: Diagram;\n\nexport default class Diagram {\n\n    private _overlay: any;\n    private _scaling: any;\n\n    constructor() {\n        this._overlay = function(layoutModel: LayoutModel, view: any) {};\n        this._scaling = Scaling.sizeSvgToFitDiagram;\n        thiz = this;\n    }\n\n    overlay(behaviour: any): Diagram {\n        this._overlay = behaviour;\n        return this;\n    };\n\n    scaling(scalingFunction: any): Diagram {\n        this._scaling = scalingFunction;\n        return this;\n    };\n\n    renderNodes( nodes: LayoutNode[], view: any )\n    {\n        function nodeClasses(d: LayoutNode) {\n            let result = d.model.class().join(\" \") + \" \" + \"node-id-\" + d.model.id;\n            return result;\n        }\n\n        var circles = view.selectAll(\"circle.node\").data( nodes );\n        circles.exit().remove();\n\n        var circlesEnter: any = circles.enter().append(\"svg:circle\")\n            .attr(\"class\", nodeClasses)\n            .merge(circles)\n            .attr(\"r\", function(node: any) {\n                // console.log(`r: `, node);\n                return node.radius.mid();\n            })\n            .attr(\"fill\", function(node: any) {\n                return node.model.style(\"background-color\");\n            })\n            .attr(\"stroke\", function(node: any) {\n                return node.model.style(\"border-color\");\n            })\n            .attr(\"stroke-width\", function(node: any) {\n                return node.model.style(\"border-width\");\n            })\n            .attr(\"cx\", function(node: any) {\n                var ex: number = node.model.ex();\n                return ex;\n            })\n            .attr(\"cy\", function(node: any) {\n                return node.model.ey();\n            });\n\n        function captionClasses(line: CaptionLine) {\n            return \"caption \" + line.node.model.class();\n        }\n\n        var nodesWithCaptions = nodes.filter(function(node) { return node.model.caption; });\n        var captionGroups = view.selectAll(\"g.caption\")\n            .data(nodesWithCaptions);\n\n        captionGroups.exit().remove();\n\n        var captionGroupsEnter = captionGroups.enter().append(\"g\")\n            .attr(\"class\", \"caption\");\n        var captionGroupsMerge = captionGroups.merge(captionGroupsEnter);\n\n        var captions = captionGroupsMerge.selectAll(\"text.caption\")\n            .data( function ( node: LayoutNode ) {\n                var data = node.captionLines.map( function ( line ) {\n                    return { node: node, caption: line }\n                });\n                return data\n            });\n\n        captions.exit().remove();\n\n        var captionsEnter = captions.enter().append(\"svg:text\")\n            .attr(\"class\", captionClasses);\n\n        var captionsMerge = captions.merge(captionsEnter);\n\n        captionsMerge\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"alignment-baseline\", \"central\")\n            .attr(\"x\", function ( line: CaptionLine ) { return (line.node.model as Node).ex(); })\n            .attr(\"y\", function ( line: CaptionLine, i: number ) { return (line.node.model as Node).ey() + (i - (line.node.captionLines.length - 1) / 2) * line.node.captionLineHeight; })\n            .attr( \"fill\", function ( line: CaptionLine ) { return line.node.model.style( \"color\" ); } )\n            .attr( \"font-size\", function ( line: CaptionLine ) { return line.node.model.style( \"font-size\" ); } )\n            .attr( \"font-family\", function ( line: CaptionLine ) { return line.node.model.style( \"font-family\" ); } )\n            .text(function(line: CaptionLine) {\n                return line.caption;\n            });\n    }\n\n    renderRelationships( relationshipGroups: any, view: any )\n    {\n        function translateToStartNodeCenterAndRotateToRelationshipAngle(r: LayoutRelationship) {\n            var angle = (r.start.model as Node).angleTo(r.end.model as Node);\n            return \"translate(\" + (r.start.model as Node).ex() + \",\" + (r.start.model as Node).ey() + \") rotate(\" + angle + \")\";\n        }\n\n        function rotateIfRightToLeft(r: LayoutRelationship) {\n            return (r.end.model as Node).isLeftOf( r.start.model as Node ) ? \"rotate(180)\" : null;\n        }\n\n        function side(r: LayoutRelationship) {\n            return (r.end.model as Node).isLeftOf(r.start.model as Node) ? -1 : 1;\n        }\n\n        function relationshipClasses(d: LayoutNode) {\n            var r: Relationship = d.model as Relationship;\n            return r.class().join(\" \");\n        }\n\n        var relatedNodesGroup = view.selectAll(\"g.related-pair\")\n            .data(relationshipGroups);\n\n        relatedNodesGroup.exit().remove();\n\n        var relatedNodesGroupEnter = relatedNodesGroup.enter().append(\"svg:g\")\n            .attr(\"class\", \"related-pair\");\n        var relatedNodesGroupMerge = relatedNodesGroup.merge(relatedNodesGroupEnter);\n\n\n        var relationshipGroup = relatedNodesGroupMerge.selectAll( \"g.relationship\" )\n            .data( function(d: LayoutNode) { return d; } );\n\n        relationshipGroup.exit().remove();\n\n        var relationshipGroupEnter = relationshipGroup.enter().append(\"svg:g\")\n            .attr(\"class\", relationshipClasses)\n        var relationshipGroupMerge = relationshipGroup.merge(relationshipGroupEnter);\n\n        relationshipGroupMerge\n            .attr(\"transform\", translateToStartNodeCenterAndRotateToRelationshipAngle);\n\n        var relationshipPath = relationshipGroupMerge.selectAll(\"path.relationship\")\n            .data( function(d: any) {return [d] } );\n\n        var relationshipPathEnter = relationshipPath.enter().append(\"svg:path\")\n            .attr(\"class\", relationshipClasses);\n\n        var relationshipPathMerge = relationshipPath.merge(relationshipPathEnter);\n\n        relationshipPathMerge\n            .attr( \"d\", function(d: LayoutRelationship) { return d.arrow.outline; } )\n            .attr( \"fill\", function(node: LayoutRelationship) {\n                return node.model.style(\"background-color\");\n            })\n            .attr(\"stroke\", function(node: LayoutRelationship) {\n                return node.model.style(\"border-color\");\n            })\n            .attr(\"stroke-width\", function(node: LayoutRelationship) {\n                return node.model.style(\"border-width\");\n            });\n\n        function relationshipWithRelationshipType(d: LayoutRelationship) {\n            return [d].filter(function(d) { return (d.model as Relationship).relationshipType; });\n        }\n\n        var relationshipType = relationshipGroupMerge.selectAll(\"text.type\")\n            .data(relationshipWithRelationshipType);\n\n        relationshipType.exit().remove();\n\n        var relationshipTypeEnter = relationshipType.enter().append(\"svg:text\")\n            .attr(\"class\", \"type\")\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"baseline-shift\", \"30%\")\n            .attr(\"alignment-baseline\", \"alphabetic\");\n        var relationshipTypeMerge = relationshipType.merge(relationshipTypeEnter);\n\n        relationshipTypeMerge\n            .attr(\"transform\", rotateIfRightToLeft)\n            .attr(\"x\", function(d: LayoutRelationship) { return side( d ) * d.arrow.apex.x; } )\n            .attr(\"y\", function(d: LayoutRelationship) { return side( d ) * d.arrow.apex.y; } )\n            .attr( \"font-size\", function ( d: LayoutRelationship ) { return d.model.style( \"font-size\" ); } )\n            .attr( \"font-family\", function ( d: LayoutRelationship ) { return d.model.style( \"font-family\" ); } )\n            .text( function ( d: LayoutRelationship ) { return (d.model as Relationship).relationshipType; } );\n    }\n\n    renderPropertyBubbles( entities: LayoutEntity[], descriminator: string, view: any )\n    {\n        var entitiesWithProperties: LayoutEntity[] = entities.filter( GraphDiagram.hasProperties );\n        var propertiesData: any = entitiesWithProperties.map( function(entity: LayoutEntity) { return entity.propertiesBubble; } );\n        var speechBubbleGroup = view.selectAll( \"g.speech-bubble.\" + descriminator + \"-speech-bubble\" )\n            .data( propertiesData );\n\n        speechBubbleGroup.exit().remove();\n\n        var speechBubbleGroupEnter = speechBubbleGroup.enter().append( \"svg:g\" )\n            .attr( \"class\", \"speech-bubble \" + descriminator + \"-speech-bubble\" );\n        var speechBubbleGroupMerge = speechBubbleGroup.merge(speechBubbleGroupEnter);\n\n        speechBubbleGroupMerge\n            .attr( \"transform\", function ( speechBubble: SpeechBubble )\n            {\n                return speechBubble.groupTransform;\n            } );\n\n        var speechBubbleOutline = speechBubbleGroupMerge.selectAll( \"path.speech-bubble-outline\" )\n            .data( function(d: any) {return [d] } );\n\n        speechBubbleOutline.exit().remove();\n\n        var speechBubbleOutlineEnter = speechBubbleOutline.enter().append( \"svg:path\" )\n            .attr( \"class\", \"speech-bubble-outline\" );\n        var speechBubbleOutlineMerge = speechBubbleOutline.merge(speechBubbleOutlineEnter);\n\n        speechBubbleOutlineMerge\n            .attr( \"transform\", function ( speechBubble: SpeechBubble )\n            {\n                return speechBubble.outlineTransform;\n            } )\n            .attr( \"d\", function ( speechBubble: SpeechBubble )\n            {\n                return speechBubble.outlinePath;\n            } )\n            .attr( \"fill\", function ( speechBubble: SpeechBubble )\n            {\n                return speechBubble.entity.properties.style( \"background-color\" );\n            } )\n            .attr( \"stroke\", function ( speechBubble: SpeechBubble )\n            {\n                return speechBubble.entity.properties.style( \"border-color\" );\n            } )\n            .attr( \"stroke-width\", function ( speechBubble: SpeechBubble )\n            {\n                return speechBubble.entity.properties.style( \"border-width\" );\n            } );\n\n        var propertyKeys = speechBubbleGroupMerge.selectAll( \"text.speech-bubble-content.property-key\" )\n            .data( function ( speechBubble: SpeechBubble )\n            {\n                return speechBubble.properties;\n            } );\n\n        propertyKeys.exit().remove();\n\n        var propertyKeysEnter = propertyKeys.enter().append( \"svg:text\" )\n            .attr( \"class\", \"speech-bubble-content property-key\" );\n        var propertyKeysEnterMerge = propertyKeys.merge(propertyKeysEnter);\n\n        propertyKeysEnterMerge\n            .attr( \"x\", function ( properties: SpeechBubbleTextProperties )\n            {\n                return properties.textOrigin.x;\n            } )\n            .attr( \"y\", function ( properties: SpeechBubbleTextProperties, i: number )\n            {\n                return (i + 0.5) * GraphDiagram.parsePixels( properties.entity.properties.style( \"font-size\" ) ) + properties.textOrigin.y\n            } )\n            .attr( \"alignment-baseline\", \"central\" )\n            .attr( \"text-anchor\", \"end\" )\n            .attr( \"font-size\", function ( properties: SpeechBubbleTextProperties ) { return properties.entity.properties.style( \"font-size\" ); } )\n            .attr( \"font-family\", function ( properties: SpeechBubbleTextProperties ) { return properties.entity.properties.style( \"font-family\" ); } )\n            .attr( \"xml:space\", \"preserve\" )\n            .text( function ( properties: SpeechBubbleTextProperties )\n            {\n                return properties.keyText;\n            } );\n\n        var propertyValues = speechBubbleGroupMerge.selectAll( \"text.speech-bubble-content.property-value\" )\n            .data( function ( speechBubble: SpeechBubble )\n            {\n                // console.log(`propertyValues: data: `, speechBubble);\n                return speechBubble.properties;\n            } );\n\n        propertyValues.exit().remove();\n\n        var propertyValuesEnter = propertyValues.enter().append( \"svg:text\" )\n            .attr( \"class\", \"speech-bubble-content property-value\" );\n\n        var propertyValuesMerge = propertyValues.merge(propertyValuesEnter);\n\n        propertyValuesMerge\n            .attr( \"x\", function ( properties: SpeechBubbleTextProperties )\n            {\n                return properties.textOrigin.x;\n            } )\n            .attr( \"y\", function ( properties: SpeechBubbleTextProperties, i: number )\n            {\n                return (i + 0.5) * GraphDiagram.parsePixels( properties.entity.properties.style( \"font-size\" ) ) + properties.textOrigin.y\n            } )\n            .attr( \"alignment-baseline\", \"central\" )\n            .attr( \"font-size\", function ( properties: SpeechBubbleTextProperties ) { return properties.entity.properties.style( \"font-size\" ); } )\n            .attr( \"font-family\", function ( properties: SpeechBubbleTextProperties ) { return properties.entity.properties.style( \"font-family\" ); } )\n            .text( function ( properties: SpeechBubbleTextProperties )\n            {\n                return properties.valueText;\n            } );\n    }\n\n    render( selection: any )\n    {\n        selection.each( function ( model: Model )\n        {\n            var view = d3.select( this );\n            let layout: Layout = new Layout(model);\n            var layoutModel = layout.layoutModel;\n            // console.log(`Diagram.render: model:`, model);\n            // console.log(`Diagram.render: layoutModel:`, layoutModel);\n\n            function layer(name: string)\n            {\n                var layer = view.selectAll( \"g.layer.\" + name ).data( [name] );\n                var layerEnter = layer.enter().append(\"g\")\n                        .attr(\"class\", \"layer \" + name);\n\n                var result = layer.merge(layerEnter);\n                return result;\n            }\n\n            thiz.renderRelationships( layoutModel.relationshipGroups, layer(\"relationships\") );\n            thiz.renderNodes( layoutModel.nodes, layer(\"nodes\") );\n\n            thiz.renderPropertyBubbles( layoutModel.nodes, \"node\", layer(\"node_properties\") );\n            thiz.renderPropertyBubbles( layoutModel.relationships, \"relationship\", layer(\"relationship_properties\") );\n\n            thiz._overlay( layoutModel, layer(\"overlay\") );\n            thiz._scaling( layoutModel, view );\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/diagram/Diagram.ts","import GraphDiagram from '../GraphDiagram';\nimport Model from '../model/Model';\nimport Node from '../model/Node';\nimport Relationship from '../model/Relationship';\n//import NodeSpeechBubble from '../bubble/NodeSpeechBubble';\n//import RelationshipSpeechBubble from '../bubble/RelationshipSpeechBubble';\nimport LayoutRelationship from './LayoutRelationship';\nimport LayoutNode from './LayoutNode';\nimport Radius from '../bubble/Radius';\nimport HorizontalArrowOutline from '../arrow/HorizontalArrowOutline';\nimport CurvedArrowOutline from '../arrow/CurvedArrowOutline';\n\nexport default class Layout {\n\n    public layoutModel: any;\n    public nodesById: Map<string, LayoutNode>;\n\n    constructor(graphModel: Model) {\n        this.nodesById = new Map<string, LayoutNode>();\n\n        this.layoutModel = {\n            graphModel: graphModel,\n            nodes: [],\n            relationships: [],\n            relationshipGroups: []\n        };\n\n\n        graphModel.nodeList().forEach((node: Node) => {\n            // var measurement: any = Layout.wrapAndMeasureCaption( node ); //FUNKY //TODO\n\n            var layoutNode = new LayoutNode(node);\n            this.nodesById.set(node.id, layoutNode);\n            this.layoutModel.nodes.push(layoutNode);\n        });\n\n        graphModel.groupedRelationshipList().forEach( (group:any) => {\n            var nominatedStart = group[0].start;\n            var offsetStep = GraphDiagram.parsePixels( group[0].style( \"margin\" ) );\n            var relationshipGroup = [];\n            for ( var i = 0; i < group.length; i++ )\n            {\n                var relationship: Relationship = group[i];\n                var offset: number = (relationship.start === nominatedStart ? 1 : -1) *\n                    offsetStep * (i - (group.length - 1) / 2);\n                // console.log(`groupedRelationshipList: offset: ${offset}`);\n                var start: LayoutNode = this.nodesById.get(relationship.start.id);\n                var end: LayoutNode = this.nodesById.get(relationship.end.id);\n                var arrow: HorizontalArrowOutline | CurvedArrowOutline = this.horizontalArrow( relationship, start, end, offset );\n\n                var layoutRelationship = new LayoutRelationship(relationship, start, end, arrow);\n                relationshipGroup.push( layoutRelationship );\n                this.layoutModel.relationships.push(layoutRelationship);\n            }\n            this.layoutModel.relationshipGroups.push(relationshipGroup);\n        });\n    }\n\n    horizontalArrow(relationship: Relationship, start: LayoutNode, end: LayoutNode, offset: number) {\n        var length: number = (start.model as Node).distanceTo(end.model as Node);\n        var arrowWidth: number = GraphDiagram.parsePixels( relationship.style( \"width\" ) );\n        if (true) //(offset === 0)\n        {\n            return new HorizontalArrowOutline(\n                start.radius.startRelationship(),\n                (length - end.radius.endRelationship()),\n                arrowWidth\n            );\n        }\n        // return new CurvedArrowOutline(\n        //     start.radius.startRelationship(),\n        //     end.radius.endRelationship(),\n        //     length,\n        //     offset,\n        //     arrowWidth,\n        //     arrowWidth * 4,\n        //     arrowWidth * 4\n        // );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/layout/Layout.ts","import Relationship from '../model/Relationship';\nimport LayoutEntity from '../layout/LayoutEntity';\nimport LayoutNode from './LayoutNode';\nimport HorizontalArrowOutline from '../arrow/HorizontalArrowOutline';\nimport CurvedArrowOutline from '../arrow/CurvedArrowOutline';\nimport RelationshipSpeechBubble from '../bubble/RelationshipSpeechBubble';\n\nexport default class LayoutRelationship extends LayoutEntity{\n\n    public start: LayoutNode;\n    public end: LayoutNode;\n    public arrow: HorizontalArrowOutline | CurvedArrowOutline;\n\n    constructor(graphRelationship: Relationship, start: LayoutNode, end: LayoutNode, arrow: HorizontalArrowOutline | CurvedArrowOutline) {\n        super(graphRelationship);\n        this.start = start;\n        this.end = end;\n        this.arrow = arrow;\n        this.propertiesBubble = new RelationshipSpeechBubble( graphRelationship, arrow.apex );\n        this.model = graphRelationship;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/layout/LayoutRelationship.ts","import * as d3 from 'd3';\nimport GraphDiagram from '../GraphDiagram';\nimport Model from '../model/Model';\nimport Relationship from '../model/Relationship';\nimport Bubble from './Bubble';\nimport {Point, BoundingBox} from '../scaling/Scaling';\n\n\nexport default class RelationshipSpeechBubble extends Bubble {\n\n    constructor( relationship: Relationship, apex: any )\n    {\n        super(relationship);\n        var properties = relationship.properties;\n        var fontSize: string = relationship.properties.style( \"font-size\" );\n        var fontFamily: string = relationship.properties.style( \"font-family\" );\n\n        var orientation = RelationshipSpeechBubble.chooseRelationshipSpeechBubbleOrientation( relationship );\n\n        var propertyKeysWidth = d3.max( properties.list(), function ( property )\n        {\n            return GraphDiagram.measureTextDimensions( property.key + \": \", fontSize, fontFamily );\n        } );\n        var propertyValuesWidth = d3.max( properties.list(), function ( property )\n        {\n            return GraphDiagram.measureTextDimensions( property.value, fontSize, fontFamily );\n        } );\n        var textSize = {\n            width:propertyKeysWidth + propertyValuesWidth,\n            height:properties.list().length * GraphDiagram.parsePixels( properties.style( \"font-size\" ) )\n        };\n\n        var margin = GraphDiagram.parsePixels( properties.style( \"margin\" ) );\n        var padding = GraphDiagram.parsePixels( properties.style( \"padding\" ) );\n\n        var mirror = \"scale(\" + orientation.mirrorX + \",\" + orientation.mirrorY + \") \";\n\n        var nodeOffsetOptions = {\n            diagonal:{\n                textCorner:{\n                    x:margin + padding,\n                    y:margin + padding\n                } },\n            horizontal:{\n                textCorner:{\n                    x:margin + padding,\n                    y:-textSize.height / 2\n                } },\n            vertical:{\n                textCorner:{\n                    x:-textSize.width / 2,\n                    y:margin + padding\n                } }\n        };\n        var textCorner = nodeOffsetOptions[orientation.style].textCorner;\n\n        var dx = relationship.end.ex() - relationship.start.ex();\n        var dy = relationship.end.ey() - relationship.start.ey();\n        var h = Math.sqrt(dx * dx + dy * dy);\n\n        var midPoint = {\n            x: relationship.start.ex() + (apex.x * dx - apex.y * dy) / h,\n            y: relationship.start.ey() +(apex.x * dy + apex.y * dx) / h\n        };\n\n        var translate = \"translate(\" + midPoint.x + \",\" + midPoint.y + \") \";\n\n        var textOrigin: Point = {\n            x:propertyKeysWidth + orientation.mirrorX * (textCorner.x)\n                - (orientation.mirrorX == -1 ? textSize.width : 0),\n            y:orientation.mirrorY * (textCorner.y)\n                - (orientation.mirrorY == -1 ? textSize.height : 0)\n        };\n\n        var boundingPadding = padding + relationship.model.parameters.speechBubbleStrokeWidth / 2;\n\n        var boundingBox: BoundingBox = {\n            x:midPoint.x + (textCorner.x - boundingPadding) * orientation.mirrorX,\n            y:midPoint.y + (textCorner.y - boundingPadding) * orientation.mirrorY,\n            width:orientation.mirrorX * (textSize.width + (boundingPadding * 2)),\n            height:orientation.mirrorY * (textSize.height + (boundingPadding * 2))\n        };\n\n        this.properties = properties.list().map( function ( property: any ) {\n                return {\n                    keyText:property.key + \": \",\n                    valueText:property.value,\n                    textOrigin:textOrigin,\n                    style:relationship.style(),\n                    entity: relationship\n                }\n            });\n        this.style = relationship.style();\n        this.entity = relationship;\n        this.groupTransform = translate;\n        this.outlineTransform = mirror;\n        this.outlinePath = Bubble.speechBubblePath( textSize, orientation.style, margin, padding );\n        this.boundingBox = boundingBox;\n    }\n\n    static chooseRelationshipSpeechBubbleOrientation(relationship: Relationship) {\n        var orientations: any = {\n            EAST:       { style: \"horizontal\", mirrorX:  1, mirrorY:  1, angle:    0 },\n            SOUTH_EAST: { style: \"diagonal\",   mirrorX:  1, mirrorY:  1, angle:   45 },\n            SOUTH     : { style: \"vertical\",   mirrorX:  1, mirrorY:  1, angle:   90 },\n            SOUTH_WEST: { style: \"diagonal\",   mirrorX: -1, mirrorY:  1, angle:  135 },\n            WEST:       { style: \"horizontal\", mirrorX: -1, mirrorY:  1, angle:  180 }\n        };\n\n        var relationshipAngle = relationship.start.angleTo(relationship.end);\n\n        var positiveAngle = relationshipAngle > 0 ? relationshipAngle : relationshipAngle + 180;\n\n        if ( positiveAngle > 175 || positiveAngle < 5 )\n        {\n            return orientations.SOUTH;\n        }\n        else if ( positiveAngle < 85 )\n        {\n            return orientations.SOUTH_WEST\n        }\n        else if ( positiveAngle < 90 )\n        {\n            return orientations.WEST;\n        }\n        else if ( positiveAngle === 90 )\n        {\n            return relationshipAngle > 0 ? orientations.WEST : orientations.EAST;\n        }\n        else if ( positiveAngle < 95 )\n        {\n            return orientations.EAST;\n        }\n        else\n        {\n            return orientations.SOUTH_EAST;\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/bubble/RelationshipSpeechBubble.ts","import * as d3 from 'd3';\nimport GraphDiagram from '../GraphDiagram';\nimport Model from '../model/Model';\nimport Properties from '../model/Properties';\nimport Node from '../model/Node';\nimport Relationship from '../model/Relationship';\nimport Radius from './Radius';\nimport Bubble from './Bubble';\nimport {Point, BoundingBox} from '../scaling/Scaling';\n\nexport default class NodeSpeechBubble extends Bubble {\n\n    constructor( node: Node, radius: Radius )\n    {\n        super(node);\n        var relatedNodes: Node[] = [];\n        node.model.relationshipList().forEach( function ( relationship: Relationship )\n        {\n            if ( relationship.start === node )\n            {\n                relatedNodes.push( relationship.end );\n            }\n            if ( relationship.end === node )\n            {\n                relatedNodes.push( relationship.start );\n            }\n        } );\n        var orientation: any = NodeSpeechBubble.chooseNodeSpeechBubbleOrientation( node, relatedNodes );\n\n        var properties: Properties = node.properties;\n\n        var propertyKeysWidth: string = d3.max( properties.list(), function ( property: any )\n            {\n                return GraphDiagram.measureTextDimensions( property.key + \": \", node.properties.style( \"font-size\" ), node.properties.style( \"font-family\" ) );\n            });\n        var propertyValuesWidth: string = d3.max( properties.list(), function ( property: any )\n        {\n            return GraphDiagram.measureTextDimensions( property.value, node.properties.style( \"font-size\" ), node.properties.style( \"font-family\" ) );\n        } );\n        var textSize: any = {\n            width: parseFloat(propertyKeysWidth) + parseFloat(propertyValuesWidth),\n            height:properties.list().length * GraphDiagram.parsePixels( properties.style(\"font-size\"))\n        };\n\n        var mirror: string = \"scale(\" + orientation.mirrorX + \",\" + orientation.mirrorY + \") \";\n\n        var margin: number = GraphDiagram.parsePixels( properties.style( \"margin\" ) );\n        var padding: number = GraphDiagram.parsePixels( properties.style( \"padding\" ) );\n\n        var diagonalRadius: number = radius.mid() * Math.sqrt( 2 ) / 2;\n        var nodeOffsetOptions: any = {\n            diagonal:{ attach:{ x:diagonalRadius, y:diagonalRadius },\n                textCorner:{\n                    x:margin + padding,\n                    y:margin + padding\n                } },\n            horizontal:{ attach:{ x:radius.mid(), y:0 },\n                textCorner:{\n                    x:margin + padding,\n                    y:-textSize.height / 2\n                } },\n            vertical:{ attach:{ x:0, y:radius.mid() },\n                textCorner:{\n                    x:-textSize.width / 2,\n                    y:margin + padding\n                } }\n        };\n        var nodeCenterOffset: any = nodeOffsetOptions[orientation.style].attach;\n        var textCorner: any = nodeOffsetOptions[orientation.style].textCorner;\n\n        var translate: string = \"translate(\" + (node.ex() + nodeCenterOffset.x * orientation.mirrorX) + \",\"\n            + (node.ey() + nodeCenterOffset.y * orientation.mirrorY) + \") \";\n\n        var textOrigin: Point = {\n            x: parseFloat(propertyKeysWidth) + orientation.mirrorX * (textCorner.x)\n                - (orientation.mirrorX == -1 ? textSize.width : 0),\n            y:orientation.mirrorY * (textCorner.y)\n                - (orientation.mirrorY == -1 ? textSize.height : 0)\n        };\n\n        var boundingPadding: number = padding + node.model.parameters.speechBubbleStrokeWidth / 2;\n\n        var boundingBox: BoundingBox = {\n            x:node.ex() + (nodeCenterOffset.x + textCorner.x - boundingPadding) * orientation.mirrorX,\n            y:node.ey() + (nodeCenterOffset.y + textCorner.y - boundingPadding) * orientation.mirrorY,\n            width:orientation.mirrorX * (textSize.width + (boundingPadding * 2)),\n            height:orientation.mirrorY * (textSize.height + (boundingPadding * 2))\n        };\n\n        this.properties = properties.list().map( function ( property: any ) {\n                return {\n                    keyText:property.key + \": \",\n                    valueText:property.value,\n                    textOrigin:textOrigin,\n                    style:node.style(),\n                    entity: node\n                }\n            });\n        this.style =node.style();\n        this.groupTransform = translate;\n        this.outlineTransform = mirror;\n        this.outlinePath = Bubble.speechBubblePath( textSize, orientation.style, margin, padding ),\n        this.boundingBox = boundingBox;\n    }\n\n    static chooseNodeSpeechBubbleOrientation = function(focusNode: Node, relatedNodes: Node[]) {\n        var orientations: any[] = [\n            { key: \"WEST\"       , style: \"horizontal\", mirrorX: -1, mirrorY:  1, angle:  180 },\n            { key: \"NORTH-WEST\" , style: \"diagonal\",   mirrorX: -1, mirrorY: -1, angle: -135 },\n            { key: \"NORTH\"      , style: \"vertical\",   mirrorX:  1, mirrorY: -1, angle:  -90 },\n            { key: \"NORTH-EAST\" , style: \"diagonal\",   mirrorX:  1, mirrorY: -1, angle:  -45 },\n            { key: \"EAST\"       , style: \"horizontal\", mirrorX:  1, mirrorY:  1, angle:    0 },\n            { key: \"SOUTH-EAST\" , style: \"diagonal\",   mirrorX:  1, mirrorY:  1, angle:   45 },\n            { key: \"SOUTH\"      , style: \"vertical\",   mirrorX:  1, mirrorY:  1, angle:   90 },\n            { key: \"SOUTH-WEST\" , style: \"diagonal\",   mirrorX: -1, mirrorY:  1, angle:  135 }\n        ];\n\n        orientations.forEach(function(orientation: any) {\n            orientation.closest = 180;\n        });\n\n        relatedNodes.forEach(function(relatedNode: Node) {\n            orientations.forEach(function(orientation: any) {\n                var angle: number = Math.abs(focusNode.angleTo( relatedNode ) - orientation.angle);\n                if ( angle > 180 )\n                {\n                    angle = 360 - angle;\n                }\n                if (angle < orientation.closest) {\n                    orientation.closest = angle;\n                }\n            });\n        });\n\n        var maxAngle: number = 0;\n        var bestOrientation: any = orientations[0];\n        orientations.forEach(function(orientation: any) {\n            if (orientation.closest > maxAngle) {\n                maxAngle = orientation.closest;\n                bestOrientation = orientation;\n            }\n        });\n\n        return bestOrientation;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/bubble/NodeSpeechBubble.ts","import Model from '../model/Model';\n\nexport default class Radius {\n\n    public insideRadius: number;\n    public borderWidth: number;\n    public arrowMargin: number;\n\n    constructor(model: Model, insideRadius: number) {\n        this.insideRadius = insideRadius;\n        this.borderWidth = model.parameters.nodeStrokeWidth;\n        this.arrowMargin = model.parameters.nodeStartMargin;\n    }\n\n    inside(insideRadius: number) {\n        if (arguments.length == 1)\n        {\n            this.insideRadius = insideRadius;\n            return this;\n        }\n        return this.insideRadius;\n    };\n\n    get border(): number {\n        return this.borderWidth;\n    }\n\n    set border(borderWidth: number) {\n        this.borderWidth = borderWidth;\n    };\n\n    get margin(): number {\n        return this.arrowMargin;\n    }\n\n    set margin(arrowMargin: number) {\n        this.arrowMargin = arrowMargin;\n    };\n\n    mid(): number {\n        return this.insideRadius + this.borderWidth / 2;\n    };\n\n    outside(): number {\n        return this.insideRadius + this.borderWidth;\n    };\n\n    startRelationship(): number {\n        return this.insideRadius + this.borderWidth + this.arrowMargin;\n    };\n\n    endRelationship(): number {\n        return this.insideRadius + this.borderWidth + this.arrowMargin;\n    };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/bubble/Radius.ts","export default class HorizontalArrowOutline {\n\n    public shaftRadius: number;\n    public headRadius: number;\n    public headLength: number;\n    public shoulder: number;\n\n    public outline: any;\n    public apex: any;\n\n    constructor(start: number, end: number, arrowWidth: number) {\n\n        this.shaftRadius = arrowWidth / 2;\n        this.headRadius = arrowWidth * 2;\n        this.headLength = this.headRadius * 2;\n        this.shoulder = start < end ? end - this.headLength : end + this.headLength;\n\n        this.outline = [\n            \"M\", start, this.shaftRadius,\n            \"L\", this.shoulder, this.shaftRadius,\n            \"L\", this.shoulder, this.headRadius,\n            \"L\", end, 0,\n            \"L\", this.shoulder, -this.headRadius,\n            \"L\", this.shoulder, -this.shaftRadius,\n            \"L\", start, -this.shaftRadius,\n            \"Z\"\n        ].join(\" \");\n\n        this.apex = {\n            x: start + (this.shoulder - start) / 2,\n            y: 0\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/arrow/HorizontalArrowOutline.ts","import * as d3 from 'd3';\nimport GraphDiagram from '../GraphDiagram';\nimport Model from '../model/Model';\nimport Node from '../model/Node';\nimport Relationship from '../model/Relationship';\nimport SimpleStyle from '../model/SimpleStyle';\n\nexport default class Markup {\n\n    static parseAll(selection: any)\n    {\n        var models: any[] = [];\n        selection.each( function ()\n        {\n            var selx = d3.select( this );\n            var modelx =  Markup.parse( selx );\n            // console.log(this, selx, modelx);\n            // debugger;\n            models.push( modelx );\n        });\n        return models;\n    }\n\n    static parseProperties(entity: Node | Relationship, debug: boolean = false)\n    {\n        return function() {\n            var propertiesMarkup = d3.select( this );\n            if (debug) {\n                console.log(`parseProperties:`,entity, this, propertiesMarkup);\n            }\n            var elements: any = propertiesMarkup.selectAll( \"dt, dd\" );\n            var currentKey: string;\n            elements.each( function () {\n                if ( this.nodeName.toLowerCase() === \"dt\" ) {\n                    currentKey = d3.select( this ).text();\n                } else if ( currentKey && this.nodeName.toLowerCase() === \"dd\" ) {\n                    entity.properties.set( currentKey, d3.select( this ).text());\n                }\n            });\n\n            SimpleStyle.copyStyles(entity.properties, propertiesMarkup, debug);\n        }\n    }\n\n    static parse(selection: any) {\n        var model: Model = new Model();\n\n        if (selection.attr(\"data-internal-scale\")) {\n            model.internalScale =selection.attr(\"data-internal-scale\");\n        }\n        if (selection.attr(\"data-external-scale\")) {\n            model.externalScale = selection.attr(\"data-external-scale\");\n        }\n\n        var nodePrototype = selection.append(\"li\" ).attr(\"class\", \"node\");\n        var nodePropertiesPrototype = nodePrototype.append(\"dl\" ).attr(\"class\", \"properties\");\n        SimpleStyle.copyStyles(model.stylePrototype.node, nodePrototype);\n        SimpleStyle.copyStyles(model.stylePrototype.nodeProperties, nodePropertiesPrototype);\n        nodePrototype.remove();\n\n        var relationshipPrototype = selection.append(\"li\" ).attr(\"class\", \"relationship\");\n        var relationshipPropertiesPrototype = relationshipPrototype.append(\"dl\" ).attr(\"class\", \"properties\");\n        SimpleStyle.copyStyles(model.stylePrototype.relationship, relationshipPrototype);\n        SimpleStyle.copyStyles(model.stylePrototype.relationshipProperties, relationshipPropertiesPrototype);\n        relationshipPrototype.remove();\n\n        selection.selectAll(\".node\").each(function () {\n            var nodeMarkup: any = d3.select(this); //TODO\n            var id: string = nodeMarkup.attr(\"data-node-id\");\n            var node: Node = model.createNode(id);\n            node.class(nodeMarkup.attr(\"class\") || \"\");\n            node.x = parseFloat(nodeMarkup.attr(\"data-x\"));\n            node.y = parseFloat(nodeMarkup.attr(\"data-y\"));\n            nodeMarkup.select(\"span.caption\").each(function() {\n                node.caption = d3.select(this).text(); //TODO\n            });\n            nodeMarkup.select( \"dl.properties\" ).each( Markup.parseProperties( node ) );\n\n            SimpleStyle.copyStyles(node, nodeMarkup);\n        });\n\n        selection.selectAll(\".relationship\").each(function () {\n            // console.log(`parsing relationship:`, this)\n            var relationshipMarkup = d3.select(this); //TODO\n            var fromId = parseFloat(relationshipMarkup.attr(\"data-from\"));\n            var toId = parseFloat(relationshipMarkup.attr(\"data-to\"));\n            var relationship: Relationship = model.createRelationship(model.lookupNode(fromId), model.lookupNode(toId));\n            relationship.class(relationshipMarkup.attr(\"class\") || \"\");\n            relationshipMarkup.select(\"span.type\" ).each(function() {\n                relationship.relationshipType = d3.select(this).text();\n                // console.log(`span.type:`, this, relationship.relationshipType);\n            });\n            // console.log(`relationshipMarkup:`, relationshipMarkup, relationship.relationshipType);\n            var temp = relationshipMarkup.select( \"dl.properties\" ).each( Markup.parseProperties( relationship, false ) );\n            // console.log(temp);\n            SimpleStyle.copyStyles(relationship, relationshipMarkup, false);\n            // console.log(relationship);\n        });\n\n        return model;\n    }\n\n    static format(model: Model, container: any) {\n        var ul = container.append(\"ul\")\n            .attr(\"class\", \"graph-diagram-markup\")\n            .attr(\"data-internal-scale\", model.internalScale)\n            .attr(\"data-external-scale\", model.externalScale);\n\n        function formatProperties( entity: any, li: any )\n        {\n            if ( entity.properties.list().length > 0 )\n            {\n                var dl = li.append( \"dl\" )\n                    .attr( \"class\", \"properties\" );\n\n                entity.properties.list().forEach( function ( property: any )\n                {\n                    dl.append( \"dt\" )\n                        .text( property.key );\n                    dl.append( \"dd\" )\n                        .text( property.value );\n                } );\n            }\n        }\n\n        model.nodeList().forEach(function(node) {\n            var li = ul.append(\"li\")\n                .attr(\"class\", node.class().join(\" \"))\n                .attr(\"data-node-id\", node.id)\n                .attr(\"data-x\", node.x)\n                .attr(\"data-y\", node.y)\n\n            if (node.caption) {\n                li.append(\"span\")\n                    .attr(\"class\", \"caption\")\n                    .text(node.caption);\n            }\n            formatProperties( node, li );\n        });\n\n        model.relationshipList().forEach(function(relationship: Relationship) {\n            var li = ul.append(\"li\")\n                .attr(\"class\", relationship.class().join(\" \"))\n                .attr(\"data-from\", relationship.start.id)\n                .attr(\"data-to\", relationship.end.id);\n\n            if (relationship.relationshipType) {\n                li.append(\"span\")\n                    .attr(\"class\", \"type\")\n                    .text(relationship.relationshipType);\n            }\n            formatProperties( relationship, li );\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/markup/Markup.ts","export default class CurvedArrowOutline\n{\n    public startAttach: any;\n    public endAttach: any;\n    public offsetAngle: number;\n\n    public startRadius: number;\n    public endRadius: number;\n    public endCentre: number;\n    public minOffset: number;\n    public arrowWidth: number;\n    public headWidth: number;\n    public headLength: number;\n\n    public radiusRatio: number;\n    public homotheticCenter: number;\n\n    public shaftRadius: number;\n    public headRadius: number;\n\n    public g1: number;\n    public c1: number;\n    public g2: number;\n    public c2: number;\n    public cx: number;\n    public cy: number;\n    public arcRadius: number;\n\n    public outline: any;\n    public apex: any;\n\n    constructor(startRadius: number, endRadius: number, endCentre: number, minOffset: number, arrowWidth: number, headWidth: number, headLength: number) {\n        this.startRadius=startRadius;\n        this.endRadius=endRadius;\n        this.endCentre=endCentre;\n        this.minOffset=minOffset;\n        this.arrowWidth=arrowWidth;\n        this.headWidth=headWidth;\n        this.headLength=headLength;\n\n        this.radiusRatio = startRadius / (endRadius + headLength);\n        this.homotheticCenter = -endCentre * this.radiusRatio / (1 - this.radiusRatio);\n\n        if(endRadius + headLength > startRadius)\n        {\n            this.offsetAngle = minOffset / startRadius;\n            this.startAttach = {\n                x: Math.cos( this.offsetAngle ) * (startRadius),\n                y: Math.sin( this.offsetAngle ) * (startRadius)\n            };\n            this.endAttach = this.intersectWithOtherCircle( this.startAttach, endRadius + headLength, endCentre, -1 );\n        }\n        else\n        {\n            this.offsetAngle = minOffset / endRadius;\n            this.endAttach = {\n                x: endCentre - Math.cos( this.offsetAngle ) * (endRadius + headLength),\n                y: Math.sin( this.offsetAngle ) * (endRadius + headLength)\n            };\n            this.startAttach = this.intersectWithOtherCircle( this.endAttach, startRadius, 0, 1 );\n        }\n\n        this.g1 = -this.startAttach.x / this.startAttach.y,\n        this.c1 = this.startAttach.y + (this.square( this.startAttach.x ) / this.startAttach.y),\n        this.g2 = -(this.endAttach.x - this.endCentre) / this.endAttach.y,\n        this.c2 = this.endAttach.y + (this.endAttach.x - this.endCentre) * this.endAttach.x / this.endAttach.y;\n\n        this.cx = ( this.c1 - this.c2 ) / (this.g2 - this.g1);\n        this.cy = this.g1 * this.cx + this.c1;\n\n        this.arcRadius = Math.sqrt(this.square(this.cx - this.startAttach.x) + this.square(this.cy - this.startAttach.y));\n\n        this.shaftRadius = this.arrowWidth / 2;\n        this.headRadius = this.headWidth / 2;\n\n        this.outline = [\n            \"M\", this.startTangent(-this.shaftRadius),\n            \"L\", this.startTangent(this.shaftRadius),\n            \"A\", this.arcRadius - this.shaftRadius, this.arcRadius - this.shaftRadius, 0, 0, minOffset > 0 ? 0 : 1, this.endTangent(-this.shaftRadius),\n            \"L\", this.endTangent(-this.headRadius),\n            \"L\", this.endNormal(headLength),\n            \"L\", this.endTangent(this.headRadius),\n            \"L\", this.endTangent(this.shaftRadius),\n            \"A\", this.arcRadius + this.shaftRadius, this.arcRadius + this.shaftRadius, 0, 0, minOffset < 0 ? 0 : 1, this.startTangent(-this.shaftRadius)\n        ].join( \" \" );\n\n        this.apex = {\n            x: this.cx,\n            y: this.cy > 0 ? this.cy - this.arcRadius : this.cy + this.arcRadius\n        }\n    }\n\n    square( l: number )\n    {\n        return l * l;\n    }\n\n\n    intersectWithOtherCircle(fixedPoint: any, radius: number, xCenter: number, polarity: number)\n    {\n        var gradient = fixedPoint.y / (fixedPoint.x - this.homotheticCenter);\n        var hc = fixedPoint.y - gradient * fixedPoint.x;\n\n        var A = 1 + this.square(gradient);\n        var B = 2 * (gradient * hc - xCenter);\n        var C = this.square(hc) + this.square(xCenter) - this.square(radius);\n\n        var intersection: any = { x: (-B + polarity * Math.sqrt( this.square( B ) - 4 * A * C )) / (2 * A) };\n        intersection.y = (intersection.x - this.homotheticCenter) * gradient;\n\n        return intersection;\n    }\n\n    startTangent(dr: number)\n    {\n        var dx = (dr < 0 ? -1 : 1) * Math.sqrt(this.square(dr) / (1 + this.square(this.g1)));\n        var dy = this.g1 * dx;\n        return [\n            this.startAttach.x + dx,\n            this.startAttach.y + dy\n        ].join(\",\");\n    }\n\n    endTangent(dr: number)\n    {\n        var dx = (dr < 0 ? -1 : 1) * Math.sqrt(this.square(dr) / (1 + this.square(this.g2)));\n        var dy = this.g2 * dx;\n        return [\n            this.endAttach.x + dx,\n            this.endAttach.y + dy\n        ].join(\",\");\n    }\n\n    endNormal(dc: number)\n    {\n        var dx = (dc < 0 ? -1 : 1) * Math.sqrt(this.square(dc) / (1 + this.square(1 / this.g2)));\n        var dy = dx / this.g2;\n        return [\n            this.endAttach.x + dx,\n            this.endAttach.y - dy\n        ].join(\",\");\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/arrow/CurvedArrowOutline.ts","import Model from '../model/Model';\n\nexport default class layoutModel {\n\n    public graphModel: Model;\n    public nodes: any [];\n    public relationships: any[];\n    public relationshipGroups: any[];\n\n    constructor(model: Model) {\n        this.graphModel = model;\n        this.nodes = [];\n        this.relationships = [];\n        this.relationshipGroups = [];\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphDiagram/layout/LayoutModel.ts"],"sourceRoot":""}